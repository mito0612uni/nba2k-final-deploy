<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>NBA2K JPL Stats</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  
  <style>
    /* サイト全体の基本スタイル */
    body {
      font-family: 'Roboto', sans-serif;
      color: #333333; 
      margin: 0;
      padding-top: 70px; /* ヘッダーの高さ分、mainに余白を設定 */
    }
    
    /* ヘッダーの固定とデザイン */
    header {
      position: fixed; /* ヘッダーを上部に固定 */
      top: 0;
      left: 0;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.95); /* 半透明の白背景 */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }
    
    /* ナビゲーションバー */
    header nav {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 25px;
      flex-wrap: wrap; /* スマホで対応 */
    }
    
    /* メインリンクグループ */
    .nav-links {
        display: flex;
        align-items: center;
        gap: 5px; /* リンク間の隙間 */
    }

    /* メニューリンク (トップ、日程・結果、ロスター管理など) */
    header nav .nav-links > a { 
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      padding: 10px 15px;
      text-decoration: none;
      color: #333;
      transition: background-color 0.3s, color 0.3s;
      border-radius: 4px;
      font-weight: 500;
    }
    header nav .nav-links > a:hover { 
      background-color: #004a99;
      color: white;
    }
    
    /* ユーザー情報 (右端) */
    .user-nav {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* サイト全体のカラーオーバーライド */
    h1, h2, h3, h4, h5, h6, .tab-btn {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
    }
    a {
      color: #004a99;
    }
    a:hover {
      color: #006fff;
    }
    /* ボタン類の統一スタイル */
    .button.primary,
    .admin-card button,
    .btn-primary,
    .date-update-form button,
    .btn-submit,
    .search-btn {
      background-color: #004a99;
      border-color: #004a99;
    }
    .button.primary:hover,
    .admin-card button:hover,
    .btn-primary:hover,
    .date-update-form button:hover,
    .btn-submit:hover,
    .search-btn:hover {
      background-color: #006fff;
    }
    /* 見出しの下線色 */
    .admin-card h3,
    .homepage-wrapper h1,
    .homepage-wrapper h2,
    .regulations-container h1 {
      border-bottom-color: #004a99;
    }
  </style>

</head>
<body>
  <header>
    <nav>
      <div class="nav-links">
        <a href="{{ url_for('index') }}" style="font-size: 18px; font-weight: 700; color: #004a99; margin-right: 15px;">NBA2K JPL</a>
        <a href="{{ url_for('schedule') }}">日程・結果</a>
        <a href="{{ url_for('regulations') }}">大会規程</a>
        
        {% if current_user.is_authenticated and current_user.is_admin %}
          <a href="{{ url_for('roster') }}">ロスター管理</a>
          <a href="{{ url_for('admin_news') }}">お知らせ管理</a>
          <a href="{{ url_for('mvp_selector') }}">MVP選出</a>
          <a href="{{ url_for('admin_vote_dashboard') }}">投票管理</a>
          <a href="{{ url_for('admin_playoff') }}">プレイオフ管理</a>
          <a href="{{ url_for('admin_season') }}">シーズン管理</a>
        {% endif %}
      </div>

      <div class="user-nav">
        {% if current_user.is_authenticated %}
          <span>こんにちは, {{ current_user.username }} さん</span>
          <a href="{{ url_for('logout') }}">ログアウト</a>
        {% else %}
          <a href="{{ url_for('login') }}">ログイン</a>
          <a href="{{ url_for('register') }}">登録</a>
        {% endif %}
      </div>
    </nav>
  </header>
  <main>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>
  
  <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>