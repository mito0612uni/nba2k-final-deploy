{% extends "layout.html" %}
{% block content %}
<div class="container mt-4">
    <h2>🗓️ シーズン管理</h2>
    
    <div class="card mb-4" style="padding:20px; background:white;">
        <h4>現在のシーズン: <span style="color:#007bff;">{{ current_season.name }}</span></h4>
        
        <form method="post" style="margin-top:15px; display:flex; align-items:center; gap:10px;">
            <input type="hidden" name="action" value="switch">
            <label>シーズン切り替え:</label>
            <select name="season_id" class="form-control" style="width:auto;">
                {% for s in seasons %}
                <option value="{{ s.id }}" {% if s.is_current %}selected{% endif %}>{{ s.name }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="button primary">切り替え</button>
        </form>
    </div>

    <div class="card mb-4" style="padding:20px; background:white;">
        <h4>新シーズン開始</h4>
        <p>新しいシーズンを作成すると、それが「現在のシーズン」になり、成績や日程はリセットされた状態からスタートします（過去データは保存されます）。</p>
        
        <form method="post" onsubmit="return confirm('新シーズンを開始しますか？');">
            <input type="hidden" name="action" value="create">
            <div class="form-group">
                <input type="text" name="season_name" class="form-control" placeholder="例: 2025 Season 2" required>
            </div>
            <button type="submit" class="button green">新シーズン作成</button>
        </form>
    </div>
</div>
{% endblock %}